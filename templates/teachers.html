<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø§ØªØ°Ø© - DTC Job Bot</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; }
        .header {
            background: linear-gradient(135deg, #0066CC 0%, #0099FF 100%);
            color: white; padding: 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .header .logo-container { display: flex; align-items: center; gap: 15px; }
        .header .logo-container img { height: 50px; width: auto; }
        .header h1 { font-size: 24px; }
        .header a { color: white; text-decoration: none; padding: 8px 16px; background: rgba(255,255,255,0.2); border-radius: 5px; }
        .container { max-width: 1200px; margin: 20px auto; padding: 20px; }
        .nav-menu { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .nav-menu a { padding: 10px 20px; background: white; text-decoration: none; color: #0066CC; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .nav-menu a:hover, .nav-menu a.active { background: #0066CC; color: white; }
        .section { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .section h2 { margin-bottom: 15px; color: #333; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; color: #555; font-weight: 500; }
        .form-group input, .form-group select { width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 16px; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: #0066CC; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px; font-weight: 600; cursor: pointer; text-decoration: none; display: inline-block; }
        .btn-primary { background: #0066CC; color: white; }
        .btn-primary:hover { background: #004499; }
        .btn-secondary { background: #6c757d; color: white; }
        .btn-small { padding: 5px 10px; font-size: 14px; }
        .filter-bar { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; align-items: end; }
        .filter-bar .form-group { margin-bottom: 0; flex: 1; min-width: 200px; }
        .teacher-card { border: 1px solid #eee; border-radius: 10px; padding: 20px; margin-bottom: 15px; transition: box-shadow 0.3s; }
        .teacher-card:hover { box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .teacher-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .teacher-name { font-size: 20px; font-weight: bold; color: #333; }
        .teacher-number { color: #666; font-size: 14px; }
        .teacher-meta { color: #666; font-size: 14px; margin-bottom: 10px; }
        .teacher-specs { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 10px; }
        .badge { display: inline-block; padding: 4px 10px; border-radius: 15px; font-size: 12px; }
        .badge-spec { background: #e3f2fd; color: #1565c0; }
        .badge-subject { background: #e8f5e9; color: #2e7d32; }
        .badge-active { background: #28a745; color: white; }
        .badge-inactive { background: #dc3545; color: white; }
        .badge-primary { background: #ffc107; color: #000; }
        .teacher-subjects { margin-top: 10px; }
        .teacher-subjects h4 { font-size: 14px; color: #666; margin-bottom: 5px; }
        .empty-state { text-align: center; padding: 40px; color: #666; }
        .empty-state .icon { font-size: 48px; margin-bottom: 10px; }
        .stats-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-item { background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center; }
        .stat-item .value { font-size: 24px; font-weight: bold; color: #0066CC; }
        .stat-item .label { font-size: 12px; color: #666; }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <img src="/static/images/logo.png" alt="DTC Logo">
            <h1>ğŸ‘¨â€ğŸ« Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</h1>
        </div>
        <a href="/logout">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
    </div>
    
    <div class="container">
        <div class="nav-menu">
            <a href="/dashboard">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="/services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
            <a href="/requests">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</a>
            <a href="/users">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</a>
            <a href="/teachers" class="active">Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</a>
            <a href="/broadcast">Ø§Ù„Ø¥Ø°Ø§Ø¹Ø©</a>
            <a href="/specializations">Ø§Ù„Ø§Ø®ØªØµØ§ØµØ§Øª</a>
            <a href="/subjects">Ø§Ù„Ù…ÙˆØ§Ø¯</a>
        </div>
        
        <!-- Stats -->
        <div class="section">
            <div class="stats-row">
                <div class="stat-item">
                    <div class="value">{{ teachers|length }}</div>
                    <div class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</div>
                </div>
                <div class="stat-item">
                    <div class="value">{{ specializations|length }}</div>
                    <div class="label">Ø§Ù„ØªØ®ØµØµØ§Øª</div>
                </div>
            </div>
        </div>
        
        <!-- Filter Bar -->
        <div class="section">
            <form method="get" action="/teachers">
                <div class="filter-bar">
                    <div class="form-group">
                        <label>Ø§Ù„Ø¨Ø­Ø«:</label>
                        <input type="text" name="search" value="{{ search_query }}" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ Ø§Ù„Ø±Ù‚Ù…...">
                    </div>
                    <div class="form-group">
                        <label>ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ØªØ®ØµØµ:</label>
                        <select name="spec_filter">
                            <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ®ØµØµØ§Øª</option>
                            {% for spec in specializations %}
                            <option value="{{ spec.id }}" {% if spec_filter == spec.id %}selected{% endif %}>{{ spec.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Ø¨Ø­Ø«</button>
                </div>
            </form>
        </div>
        
        <!-- Teachers List -->
        <div class="section">
            <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</h2>
            {% if teachers %}
                {% for teacher in teachers %}
                <div class="teacher-card">
                    <div class="teacher-header">
                        <div>
                            <div class="teacher-name">
                                {{ teacher.full_name or 'Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…' }}
                                {% if teacher.is_active %}
                                <span class="badge badge-active">Ù†Ø´Ø·</span>
                                {% else %}
                                <span class="badge badge-inactive">Ù…Ø­Ø¸ÙˆØ±</span>
                                {% endif %}
                            </div>
                            <div class="teacher-number">
                                {% if teacher.teacher_number %}Ø±Ù‚Ù… Ø§Ù„Ø£Ø³ØªØ§Ø°: {{ teacher.teacher_number }}{% endif %}
                            </div>
                        </div>
                        <a href="/teachers/{{ teacher.id }}" class="btn btn-primary btn-small">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ â†</a>
                    </div>
                    
                    <div class="teacher-meta">
                        ğŸ“§ {{ teacher.email }}
                        {% if teacher.phone_number %} | ğŸ“± {{ teacher.phone_number }}{% endif %}
                        {% if teacher.gender %} | {{ 'ğŸ‘¨' if teacher.gender.value == 'male' else 'ğŸ‘©' }}{% endif %}
                    </div>
                    
                    {% if teacher.teacher_specializations %}
                    <div class="teacher-specs">
                        <strong>Ø§Ù„ØªØ®ØµØµØ§Øª:</strong>
                        {% for ts in teacher.teacher_specializations %}
                        <span class="badge badge-spec">
                            {{ ts.specialization.name }}
                            {% if ts.is_primary %}<span class="badge badge-primary">Ø±Ø¦ÙŠØ³ÙŠ</span>{% endif %}
                        </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    
                    {% if teacher.teacher_subjects %}
                    <div class="teacher-subjects">
                        <h4>Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ØªÙŠ ÙŠØ¯Ø±Ø³Ù‡Ø§:</h4>
                        <div class="teacher-specs">
                            {% for ts in teacher.teacher_subjects[:5] %}
                            <span class="badge badge-subject">{{ ts.subject.name }}</span>
                            {% endfor %}
                            {% if teacher.teacher_subjects|length > 5 %}
                            <span class="badge badge-subject">+{{ teacher.teacher_subjects|length - 5 }} Ù…ÙˆØ§Ø¯ Ø£Ø®Ø±Ù‰</span>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            {% else %}
                <div class="empty-state">
                    <div class="icon">ğŸ‘¨â€ğŸ«</div>
                    <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø³Ø§ØªØ°Ø© Ù…Ø³Ø¬Ù„ÙˆÙ† Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>

